<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Jenkins X - Cloud Native CI/CD Built On Kubernetes â€“ Troubleshooting</title>
    <link>https://jenkins-x.io/v3/admin/troubleshooting/</link>
    <description>Recent content in Troubleshooting on Jenkins X - Cloud Native CI/CD Built On Kubernetes</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Wed, 01 Feb 2017 00:00:00 +0000</lastBuildDate>
    
	  <atom:link href="https://jenkins-x.io/v3/admin/troubleshooting/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>V3: Webhooks</title>
      <link>https://jenkins-x.io/v3/admin/troubleshooting/webhooks/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://jenkins-x.io/v3/admin/troubleshooting/webhooks/</guid>
      <description>
        
        
        &lt;p&gt;Webhooks are used to trigger &lt;a href=&#34;https://github.com/jenkins-x/lighthouse&#34;&gt;lighthouse&lt;/a&gt; when you:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;merge commits to your main branch&lt;/li&gt;
&lt;li&gt;open a Pull Request&lt;/li&gt;
&lt;li&gt;push code to a Pull Request branch&lt;/li&gt;
&lt;li&gt;comment on a Pull Request to trigger ChatOps&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If webhooks are not working in your cluster then you won&amp;rsquo;t get ChatOps or pipelines triggered.&lt;/p&gt;
&lt;h3 id=&#34;requirements&#34;&gt;Requirements&lt;/h3&gt;
&lt;p&gt;For webhooks to work you must have a working &lt;code&gt;Ingress&lt;/code&gt; for the &lt;code&gt;hook&lt;/code&gt; endpoint from &lt;a href=&#34;https://github.com/jenkins-x/lighthouse&#34;&gt;lighthouse&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The ingress defaults to using the domain name specified in &lt;code&gt;ingress.domain&lt;/code&gt; in your &lt;code&gt;jx-requirements.yml&lt;/code&gt; file.&lt;/p&gt;
&lt;h3 id=&#34;diagnosing-issues&#34;&gt;Diagnosing issues&lt;/h3&gt;
&lt;p&gt;You can check on the health of your system and webhooks via the &lt;a href=&#34;https://jenkins-x.io/v3/admin/setup/health/&#34;&gt;Health guide&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;First make sure you have a valid ingress for hook&amp;hellip;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;kubectl get ing
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;you should see an ingress with a valid domain name for &lt;code&gt;hook&lt;/code&gt;. Then try curl that URL on the command line&amp;hellip;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -v http://hook-jx.1.2.3.4.nip.io/hook
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;and check your laptop can access the endpoint. Do you have a running &lt;code&gt;lighthouse-webhook-*&lt;/code&gt; pod?&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;kubectl get pod -l app&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;lighthouse-webhooks
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You could look at your pods in &lt;code&gt;jx ui&lt;/code&gt; to see their state, events, logs etc.&lt;/p&gt;
&lt;p&gt;If everything looks to be working inside your cluster then open the git repository of your dev cluster&amp;hellip;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;kubectl get environments
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Then click the &lt;code&gt;GIT URL&lt;/code&gt; link for your repository.&lt;/p&gt;
&lt;p&gt;Now look at the &lt;strong&gt;Webbooks&lt;/strong&gt; page to see if your git provider could send webhooks to your hook endpoint. On GitHub thats &lt;strong&gt;Settings&lt;/strong&gt; -&amp;gt;  &lt;strong&gt;Webhooks&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;It could be your git provider can&amp;rsquo;t see public ingress endpoint? If thats the case you may need to look at setting up a tunnel via something like &lt;a href=&#34;https://jenkins-x.io/v3/admin/platforms/on-premise/#enable-webhooks&#34;&gt;ngrok to enable on premise webhooks&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;aws-specific-issues&#34;&gt;AWS specific issues&lt;/h3&gt;
&lt;p&gt;If you are using AWS you can check out the &lt;a href=&#34;https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-to-elb-load-balancer.html&#34;&gt;AWS docs on using ELB&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
