<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Jenkins X - Cloud Native CI/CD Built On Kubernetes â€“ Jenkins</title>
    <link>https://jenkins-x.io/v3/admin/guides/jenkins/</link>
    <description>Recent content in Jenkins on Jenkins X - Cloud Native CI/CD Built On Kubernetes</description>
    <generator>Hugo -- gohugo.io</generator>
    
	  <atom:link href="https://jenkins-x.io/v3/admin/guides/jenkins/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>V3: Getting Started</title>
      <link>https://jenkins-x.io/v3/admin/guides/jenkins/getting-started/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://jenkins-x.io/v3/admin/guides/jenkins/getting-started/</guid>
      <description>
        
        
        &lt;p&gt;Make sure you have got the &lt;a href=&#34;https://jenkins-x.io/v3/guides/jx3/&#34;&gt;jx 3.x binary&lt;/a&gt; and you have installed &lt;a href=&#34;https://jenkins-x.io/v3/admin/platform/&#34;&gt;version 3&lt;/a&gt; before proceeding.&lt;/p&gt;
&lt;h2 id=&#34;adding-jenkins-servers-into-jenkins-x&#34;&gt;Adding Jenkins Servers into Jenkins X&lt;/h2&gt;
&lt;p&gt;You can use Jenkins X to install one or more Jenkins servers by running the following command in a git clone of your dev cluster git repository:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;jx gitops jenkins add --name myjenkins
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;That will add a new &lt;code&gt;helmfile/myjenkins/helmfile.yaml&lt;/code&gt; file for the jenkins charts along with &lt;code&gt;helmfile/myjenkins/values.yaml&lt;/code&gt; file that can be used to configure the &lt;a href=&#34;https://github.com/jenkinsci/helm-charts/blob/main/charts/jenkins/VALUES_SUMMARY.md&#34;&gt;jenkins helm chart configuration values&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Now git commit that file:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;git commit -a -m &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fix: added new jenkins service&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;importing-projects-or-creating-quickstarts&#34;&gt;Importing projects or creating quickstarts&lt;/h3&gt;
&lt;p&gt;If you want to import repositories into your jenkins server or create quickstarts using &lt;code&gt;Jenkinsfile&lt;/code&gt; files then follow the usual &lt;a href=&#34;https://jenkins-x.io/v3/develop/create-project/&#34;&gt;user guide approach of creating projects&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Your new jenkins server will be added to the &lt;code&gt;.jx/gitops/source-config.yaml&lt;/code&gt; file and so will be available to developers as a Jenkins server that can be used when importing projects.&lt;/p&gt;
&lt;h3 id=&#34;configure-jenkins&#34;&gt;Configure Jenkins&lt;/h3&gt;
&lt;p&gt;To configure your Jenkins server edit the &lt;code&gt;helmfile/myjenkins/values.yaml&lt;/code&gt; according to the &lt;a href=&#34;https://github.com/jenkinsci/helm-charts/blob/main/charts/jenkins/VALUES_SUMMARY.md&#34;&gt;configuration guide&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Each Jenkins server has its own namespace so that its possible to use fine grained role based access for each server using Kubernetes RBAC.&lt;/p&gt;
&lt;p&gt;In addition by default each Jenkins server gets to share the pipeline git user name and token so that it can access private git repositories in the same way as tekton pipelines.&lt;/p&gt;
&lt;h3 id=&#34;job-dsl&#34;&gt;Job DSL&lt;/h3&gt;
&lt;p&gt;When you import projects or create quickstarts with the above approach, your projects get added to the jenkins server you choose in  &lt;code&gt;.jx/gitops/source-config.yaml&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Then during the &lt;a href=&#34;https://jenkins-x.io/v3/about/how-it-works/#boot-job&#34;&gt;boot job&lt;/a&gt; Jenkins X will create a &lt;a href=&#34;https://plugins.jenkins.io/job-dsl/&#34;&gt;Jenkins Job DSL script&lt;/a&gt; for each project in your &lt;code&gt;.jx/gitops/source-config.yaml&lt;/code&gt; file for each Jenkins server.&lt;/p&gt;
&lt;p&gt;The Job DSL scripts are generated in the file &lt;code&gt;helmfiles/myjenkins/job-values.yaml&lt;/code&gt; which is then passed into the &lt;a href=&#34;https://github.com/jenkinsci/helm-charts&#34;&gt;Jenkins helm chart&lt;/a&gt; via the &lt;code&gt;values:&lt;/code&gt; item in the &lt;code&gt;helmfiles/myjenkins/helmfile.yaml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;By default the boot job uses &lt;a href=&#34;https://github.com/jenkins-x/jx3-versions/tree/master/jenkins/templates&#34;&gt;these templates for the Job DSL&lt;/a&gt; for folders (e.g. organisations) and for repositories.&lt;/p&gt;
&lt;p&gt;You can configure which templates you wish to use in the &lt;code&gt;.jx/gitops/source-config.yaml&lt;/code&gt; file; either globally or on a per organsation or repository basis. Please refer to the &lt;a href=&#34;https://github.com/jenkins-x/jx-gitops/blob/master/docs/config.md#gitops.jenkins-x.io/v1alpha1.SourceConfig&#34;&gt;SourceConfig&lt;/a&gt; reference guide. In particularly see how you can specify &lt;code&gt;jenkinsFolderTemplate&lt;/code&gt; or &lt;code&gt;jenkinsJobTemplate&lt;/code&gt; values at the global, organisation or repository level inside the &lt;a href=&#34;https://github.com/jenkins-x/jx-gitops/blob/master/docs/config.md#gitops.jenkins-x.io/v1alpha1.JenkinsServer&#34;&gt;jenkinsServer&lt;/a&gt; entry.&lt;/p&gt;
&lt;h3 id=&#34;accessing-the-jenkins-server&#34;&gt;Accessing the Jenkins server&lt;/h3&gt;
&lt;p&gt;You can switch to the jenkins namespace via the following and see the host name to open the console:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;jx ns myjenkins

kubectl get ing
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Jenkins X will have generated a username of &lt;strong&gt;admin&lt;/strong&gt; and a random password which is stored in your secret store (either Vault or your cloud secret manager).&lt;/p&gt;
&lt;p&gt;To find the admin password so that you can login to Jenkins try:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;kubectl get secret jenkins -o jsonpath&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;{.data.jenkins-admin-password}&amp;#34;&lt;/span&gt; | base64 --decode
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can find the URL to open Jenkins via:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;echo http://&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;kubectl get ingress jenkins -o jsonpath&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;{.spec.rules[0].host}&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
    <item>
      <title>V3: GitOps Recommendations</title>
      <link>https://jenkins-x.io/v3/admin/guides/jenkins/gitops/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://jenkins-x.io/v3/admin/guides/jenkins/gitops/</guid>
      <description>
        
        
        &lt;p&gt;One of the awesome things about Jenkins is you can use it to do anything in any way you like. e.g. you can add/configure any Jenkins server via the UI which then modifies the state on disk. This can make things harder to manage at scale; tracking who changes what and to diagnose issues and perform backup and restore etc.&lt;/p&gt;
&lt;p&gt;We have been using the GitOps approach to managing things in production for the last few years on the Jenkins X project and it has lots of benefits:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;every change is audited so you can see exactly what was changed and by who in git&lt;/li&gt;
&lt;li&gt;you can easily revert changes if they go bad&lt;/li&gt;
&lt;li&gt;all state being in git means its super easy to recreate your infrastructure in another region or using different machine types without complex backup/restore processes being in place&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So we recommend trying to follow the GitOps approaches for your Jenkins servers too. e.g.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;try store in git all of the Jenkins servers with their &lt;a href=&#34;https://jenkins-x.io/v3/admin/guides/jenkins/getting-started/#configure-jenkins&#34;&gt;configuration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;try use the &lt;a href=&#34;https://jenkins-x.io/v3/admin/guides/jenkins/getting-started/#job-dsl&#34;&gt;Job DSL in git&lt;/a&gt; to import projects into your jenkins servers then its very easy to move projects to different servers via a simple Pull Request on the &lt;code&gt;.jx/gitops/source-config.yaml&lt;/code&gt; file&lt;/li&gt;
&lt;li&gt;try use &lt;a href=&#34;https://www.jenkins.io/projects/jcasc/&#34;&gt;Jenkins Configuration As Code&lt;/a&gt; as much as you can as its simpler and easier to work with via GitOps&lt;/li&gt;
&lt;li&gt;try use use &lt;a href=&#34;https://github.com/external-secrets/kubernetes-external-secrets&#34;&gt;kubernetes external secrets&lt;/a&gt; to manage all of your secrets in a secret store like vault or your cloud providers secret manager via &lt;a href=&#34;https://jenkins-x.io/v3/admin/guides/secrets/&#34;&gt;Jenkins X secret support&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;you can then consume the secrets managed via &lt;a href=&#34;https://github.com/external-secrets/kubernetes-external-secrets&#34;&gt;kubernetes external secrets&lt;/a&gt; using the &lt;a href=&#34;https://plugins.jenkins.io/kubernetes-credentials-provider/&#34;&gt;kubernetes credentials provider plugin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;we use this mechanism to reuse the Jenkins X pipeline bot user and token we use for &lt;a href=&#34;https://github.com/tektoncd/pipeline&#34;&gt;tekton&lt;/a&gt; in each Jenkins server via properly labelled Secrets created via  &lt;a href=&#34;https://github.com/external-secrets/kubernetes-external-secrets&#34;&gt;kubernetes external secrets&lt;/a&gt;. e.g. &lt;a href=&#34;https://github.com/jenkins-x-charts/jenkins-resources/blob/main/charts/jenkins-resources/templates/tekton-git-secret.yaml#L15-L18&#34;&gt;here&amp;rsquo;s how we share the git token&lt;/a&gt; by using a kubernetes Secret with the labels for the &lt;a href=&#34;https://plugins.jenkins.io/kubernetes-credentials-provider/&#34;&gt;kubernetes credentials provider plugin&lt;/a&gt; which is automatically populated from the vault / cloud provider secret store&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
  </channel>
</rss>
