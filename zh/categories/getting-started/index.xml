<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Jenkins X - Cloud Native CI/CD Built On Kubernetes – getting started</title>
    <link>https://jenkins-x.io/zh/categories/getting-started/</link>
    <description>Recent content in getting started on Jenkins X - Cloud Native CI/CD Built On Kubernetes</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Sat, 22 Sep 2018 00:00:00 +0000</lastBuildDate>
    
	  <atom:link href="https://jenkins-x.io/zh/categories/getting-started/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Docs: 创建新集群</title>
      <link>https://jenkins-x.io/zh/docs/getting-started/setup/create-cluster/</link>
      <pubDate>Sat, 21 Apr 2018 00:00:00 +0000</pubDate>
      
      <guid>https://jenkins-x.io/zh/docs/getting-started/setup/create-cluster/</guid>
      <description>
        
        
        &lt;p&gt;Jenkins X 可以通过jx的命令行界面CLI安装到Kubernetes集群里。&lt;/p&gt;
&lt;p&gt;创建Kubernetes集群的方法有很多种。&lt;/p&gt;
&lt;p&gt;我们推荐的方法是使用Terraform设置所有云基础架构（kubernetes集群，服务帐户，存储桶，日志记录等），并使用云提供商来创建和管理kubernetes集群。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;或者您可以使用kubernetes提供程序特定的方法：&lt;/p&gt;
&lt;p&gt;通过已经安装的 Jenkins X 创建一个新的集群，使用命令  &lt;a href=&#34;https://jenkins-x.io/commands/jx_create_cluster/&#34;&gt;jx create cluster&lt;/a&gt; 。&lt;/p&gt;
&lt;p&gt;如下所示，支持很多不同的公有云提供商。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;为了最好的入门体验，我们目前推荐使用 Google Container Engine (GKE)&lt;/strong&gt;。如果你没有谷歌云账号的话，谷歌云平台提供三百美元的额度。查看 &lt;a href=&#34;https://console.cloud.google.com/freetrial&#34;&gt;https://console.cloud.google.com/freetrial&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这有一个小的演示，同时展示 GKE、AKS 和 Minikube。在不同的设备（云）上启动需要花点时间，请耐心等待！&lt;/p&gt;
&lt;iframe width=&#34;640&#34; height=&#34;360&#34; src=&#34;https://www.youtube.com/embed/ELA4tytdFeA&#34; frameborder=&#34;0&#34; allow=&#34;autoplay; encrypted-media&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;h3 id=&#34;使用谷歌云-gke&#34;&gt;使用谷歌云 (GKE)&lt;/h3&gt;
&lt;p&gt;使用命令 &lt;a href=&#34;https://jenkins-x.io/commands/jx_create_cluster_gke/&#34;&gt;jx create cluster gke&lt;/a&gt; ：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;jx create cluster gke
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;该命令假设你有一个谷歌账户，并且已经设置了一个默认项目，可以再里面创建 Kubernetes 集群。&lt;/p&gt;
&lt;p&gt;现在 &lt;strong&gt;&lt;a href=&#34;https://jenkins-x.io/zh/docs/getting-started/&#34;&gt;使用 Jenkins X 更快速地开发应用&lt;/a&gt;&lt;/strong&gt;。&lt;/p&gt;
&lt;h3 id=&#34;使用亚马逊-aws&#34;&gt;使用亚马逊 (AWS)&lt;/h3&gt;
&lt;p&gt;使用命令 &lt;a href=&#34;https://jenkins-x.io/commands/x_create_cluster_aws&#34;&gt;jx create cluster aws&lt;/a&gt; ：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;jx create cluster aws
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这会通过你的亚马逊账户，使用命令 &lt;a href=&#34;https://github.com/kubernetes/kops&#34;&gt;kops&lt;/a&gt; 创建一个新的 Kubernetes 集群并安装 Jenkins X。&lt;/p&gt;
&lt;p&gt;来试试这个，我们建议你参照 &lt;a href=&#34;https://github.com/aws-samples/aws-workshop-for-kubernetes/tree/master/01-path-basics/101-start-here#create-aws-cloud9-environment&#34;&gt;AWS Workshop for Kubernetes&lt;/a&gt;  设置 AWS Cloud9 IDE。&lt;/p&gt;
&lt;p&gt;然后，在 Cloud9 中打开一个新的终端，试试这些命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;curl -L https://github.com/jenkins-x/jx/releases/download/v&lt;span style=&#34;color:#f92672&#34;&gt;{{&lt;/span&gt;.Site.Params.release&lt;span style=&#34;color:#f92672&#34;&gt;}}&lt;/span&gt;/jx-linux-amd64.tar.gz | tar xzv
sudo mv jx /usr/local/bin
jx create cluster aws
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;现在 &lt;strong&gt;&lt;a href=&#34;https://jenkins-x.io/zh/docs/getting-started/&#34;&gt;使用 Jenkins X 更快速地开发应用&lt;/a&gt;&lt;/strong&gt;。&lt;/p&gt;
&lt;h3 id=&#34;使用-azure-aks&#34;&gt;使用 Azure (AKS)&lt;/h3&gt;
&lt;p&gt;使用命令 &lt;a href=&#34;https://jenkins-x.io/commands/jx_create_cluster_aks/&#34;&gt;jx create cluster aks&lt;/a&gt; ：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;jx create cluster aks
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;现在 &lt;strong&gt;&lt;a href=&#34;https://jenkins-x.io/zh/docs/getting-started/&#34;&gt;使用 Jenkins X 更快速地开发应用&lt;/a&gt;&lt;/strong&gt;。&lt;/p&gt;
&lt;h3 id=&#34;使用-minikube-local&#34;&gt;使用 Minikube (local)&lt;/h3&gt;
&lt;p&gt;有些人在开始使用 minikube 时遇到问题，可能有几个原因：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;minikube 需要更新你的机器以及虚拟化软件&lt;/li&gt;
&lt;li&gt;你可能已经安装了旧版本的 Docker 或者 minikube、kubectl、helm等。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;因此，我们&lt;strong&gt;强烈&lt;/strong&gt;建议使用上面的公有云来尝试 Jenkins X。他们都有免费体验，所以应该不会花费你的任何现金，而且还给了你体验云的机会。&lt;/p&gt;
&lt;p&gt;如果你还是想尝试 minikube，那么，我们建议从头开始，并让 jx 帮你创建&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;jx create cluster minikube
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;现在 &lt;strong&gt;&lt;a href=&#34;https://jenkins-x.io/zh/docs/getting-started/&#34;&gt;使用 Jenkins X 更快速地开发应用&lt;/a&gt;&lt;/strong&gt;。&lt;/p&gt;
&lt;h3 id=&#34;故障排除&#34;&gt;故障排除&lt;/h3&gt;
&lt;p&gt;如果你在安装 Jenkins X 时遇到任何问题，请检查我们的 &lt;a href=&#34;https://jenkins-x.io/zh/troubleshooting/faq/&#34;&gt;故障排除&lt;/a&gt; 或者 &lt;a href=&#34;https://jenkins-x.io/zh/community/&#34;&gt;让我们知道&lt;/a&gt;，我们会尽力给予帮助。&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: 安装 jx</title>
      <link>https://jenkins-x.io/zh/docs/getting-started/setup/install/</link>
      <pubDate>Wed, 01 Feb 2017 00:00:00 +0000</pubDate>
      
      <guid>https://jenkins-x.io/zh/docs/getting-started/setup/install/</guid>
      <description>
        
        
        &lt;p&gt;根据你的操作系统选择最适合的指令：&lt;/p&gt;
&lt;h3 id=&#34;macos&#34;&gt;macOS&lt;/h3&gt;
&lt;p&gt;在 Mac 上你可以使用 &lt;a href=&#34;https://brew.sh/&#34;&gt;brew&lt;/a&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;brew install jenkins-x/jx/jx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;或者，如果您尚未安装 &lt;a href=&#34;https://brew.sh/&#34;&gt;brew&lt;/a&gt; ，并且喜欢手动安装的话，请执行如下指令安装:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Download the &lt;code&gt;jx&lt;/code&gt; binary archive using &lt;code&gt;curl&lt;/code&gt; and pipe (&lt;code&gt;|&lt;/code&gt;) the compressed archive to
the &lt;code&gt;tar&lt;/code&gt; command:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;curl -L &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://github.com/jenkins-x/jx/releases/download/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;curl --silent https://api.github.com/repos/jenkins-x/jx/releases/latest | jq -r &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.tag_name&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/jx-darwin-amd64.tar.gz&amp;#34;&lt;/span&gt; | tar xzv &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;jx&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;or, if you don&#39;t have `jq` installed:
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;curl -L &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://github.com/jenkins-x/jx/releases/download/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;curl --silent &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://github.com/jenkins-x/jx/releases/latest&amp;#34;&lt;/span&gt; | sed &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;s#.*tag/\(.*\)\&amp;#34;.*#\1#&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/jx-darwin-amd64.tar.gz&amp;#34;&lt;/span&gt; | tar xzv &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;jx&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Install the &lt;code&gt;jx&lt;/code&gt; binary by moving it to a location which should be on your environments PATH, using
the &lt;code&gt;mv&lt;/code&gt; command:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;sudo mv jx /usr/local/bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Run &lt;code&gt;jx version&lt;/code&gt; to make sure you&amp;rsquo;re on the latest stable version&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;jx version
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;linux&#34;&gt;Linux&lt;/h3&gt;
&lt;p&gt;To install Jenkins X on Linux, download the &lt;code&gt;.tar&lt;/code&gt; file, and unarchive it in a directory where you can run the &lt;code&gt;jx&lt;/code&gt; command.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Download the &lt;code&gt;jx&lt;/code&gt; binary archive using &lt;code&gt;curl&lt;/code&gt; and pipe (&lt;code&gt;|&lt;/code&gt;) the compressed archive to
the &lt;code&gt;tar&lt;/code&gt; command:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;curl -L &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://github.com/jenkins-x/jx/releases/download/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;curl --silent https://api.github.com/repos/jenkins-x/jx/releases/latest | jq -r &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.tag_name&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/jx-linux-amd64.tar.gz&amp;#34;&lt;/span&gt; | tar xzv &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;jx&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;or, if you don&#39;t have `jq` installed:
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;curl -L &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://github.com/jenkins-x/jx/releases/download/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;curl --silent &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://github.com/jenkins-x/jx/releases/latest&amp;#34;&lt;/span&gt; | sed &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;s#.*tag/\(.*\)\&amp;#34;.*#\1#&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/jx-linux-amd64.tar.gz&amp;#34;&lt;/span&gt; | tar xzv &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;jx&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Install the &lt;code&gt;jx&lt;/code&gt; binary by moving it to a location which should be on your environments PATH, using
the &lt;code&gt;mv&lt;/code&gt; command:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;sudo mv jx /usr/local/bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Run &lt;code&gt;jx version&lt;/code&gt; to make sure you&amp;rsquo;re on the latest stable version&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;jx version
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;windows&#34;&gt;Windows&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如果你使用 &lt;a href=&#34;https://chocolatey.org/&#34;&gt;Chocolatey&lt;/a&gt;，那么这里有一个 &lt;a href=&#34;https://chocolatey.org/packages/jenkins-x&#34;&gt;可用的包&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;要安装 &lt;code&gt;jx&lt;/code&gt; 二进制请运行：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;choco install jenkins-x
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;要升级 &lt;code&gt;jx&lt;/code&gt; 二进制请运行：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;choco upgrade jenkins-x
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如果你使用 &lt;a href=&#34;https://scoop.sh&#34;&gt;scoop&lt;/a&gt;，那么这里有一个 &lt;a href=&#34;https://github.com/lukesampson/scoop/blob/master/bucket/jx.json&#34;&gt;可用的清单&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;要安装 &lt;code&gt;jx&lt;/code&gt; 二进制请运行：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;scoop install jx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;要升级 &lt;code&gt;jx&lt;/code&gt; 二进制请运行：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;scoop update jx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;其他平台&#34;&gt;其他平台&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jenkins-x/jx/releases&#34;&gt;下载二进制包&lt;/a&gt; &lt;code&gt;jx&lt;/code&gt; 然后加到环境变量 &lt;code&gt;$PATH&lt;/code&gt; 中&lt;/p&gt;
&lt;p&gt;或者，你可以尝试 &lt;a href=&#34;https://github.com/jenkins-x/jx/blob/master/docs/contributing/hacking.md&#34;&gt;自行构建&lt;/a&gt;。然而，如果你要自行构建的话，请注意移除所有旧版本的 &lt;code&gt;jx&lt;/code&gt; 二进制文件，这样你的本地构建才会出现在环境变量 &lt;code&gt;$PATH&lt;/code&gt; 的第一位 :)&lt;/p&gt;
&lt;h2 id=&#34;获得帮助&#34;&gt;获得帮助&lt;/h2&gt;
&lt;p&gt;查找可用的命令类型：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;jx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;或者，获取指定命令的帮助，例如： &lt;code&gt;create&lt;/code&gt; 命令，可以输入：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;jx help create
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;你也可以浏览 &lt;a href=&#34;https://jenkins-x.io/commands/jx/&#34;&gt;jx 命令参考文档&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: 使用Jenkins X Boot</title>
      <link>https://jenkins-x.io/zh/docs/getting-started/setup/boot/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://jenkins-x.io/zh/docs/getting-started/setup/boot/</guid>
      <description>
        
        
        &lt;h2 id=&#34;概述&#34;&gt;概述&lt;/h2&gt;
&lt;p&gt;_Jenkins X Boot_使用以下方法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;根据你的实际情况创建kubernetes集群：
&lt;ul&gt;
&lt;li&gt;使用Terraform创建您的kubernetes集群+相关的云资源&lt;/li&gt;
&lt;li&gt;使用您的云提供商Web控制台创建一个新的kubernetes集群&lt;/li&gt;
&lt;li&gt;使用 jx 命令行例如&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;jx create cluster gke --skip-installation
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;使用选择的一些你们团队自定义工具，或者由您的运营团队提供给您的工具&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装成功以后，您可以通过以下方式验证是否可以与kubernetes集群正常沟通：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;kubectl get ns
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;运行 &lt;a href=&#34;https://jenkins-x.io/commands/jx_boot/&#34;&gt;jx boot&lt;/a&gt; 命令行:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;jx boot
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;程序会提示您安装所需的其他参数，例如您的管理员用户/密码，Pipeline所在git用户和令牌等。&lt;/p&gt;
&lt;p&gt;最后Jenkins X会在kubernetes集群上安装并设置完。&lt;/p&gt;
&lt;h3 id=&#34;关于-jx-boot&#34;&gt;关于 &amp;lsquo;jx boot&amp;rsquo;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://jenkins-x.io/commands/jx_boot/&#34;&gt;jx boot&lt;/a&gt; 使用本地&lt;code&gt;jx&lt;/code&gt;命令行的可执行文件来解析boot pipeline流水线定义，接着通过在kubernetes中的Tekton运行这个流水线来安装启动Jenkins X。 如果Jenkin X安装后了出了问题，您可以随时再次执行&lt;code&gt;jx boot&lt;/code&gt;来恢复运行状态（例如，如果有人不小心删除了您的集群）。&lt;/p&gt;
&lt;h4 id=&#34;安装前后验证方法&#34;&gt;安装前后验证方法&lt;/h4&gt;
&lt;p&gt;在尝试进行任何安装之前，jx 会运行&lt;a href=&#34;https://jenkins-x.io/commands/jx_step_verify_preinstall/&#34;&gt;jx step verify preinstall&lt;/a&gt;命令以检查一切是否正常。 如果您使用的是Terraform（您的“jx-requirements.yml”文件会有“terraform：true”），如果这个时候Terraform没有创建所需的云资源的情况下， jx 安装将会失败。&lt;/p&gt;
&lt;p&gt;安装完成后，将运行&lt;a href=&#34;https://jenkins-x.io/commands/jx_step_verify_install/&#34;&gt;jx step verify install&lt;/a&gt; 命令以验证您的安装成功.&lt;/p&gt;
&lt;h2 id=&#34;更改已有安装&#34;&gt;更改已有安装&lt;/h2&gt;
&lt;p&gt;您可以随时重新运行 &lt;a href=&#34;https://jenkins-x.io/commands/jx_boot/&#34;&gt;jx boot&lt;/a&gt; 以更改已有的应用配置.&lt;/p&gt;
&lt;p&gt;因此，只需编辑所需配置中的任何内容，然后重新运行 &lt;a href=&#34;https://jenkins-x.io/commands/jx_boot/&#34;&gt;jx boot&lt;/a&gt; -就可以添加或删除Apps，更改参数或配置，升级或降级依赖项的版本号。&lt;/p&gt;
&lt;h2 id=&#34;需求&#34;&gt;需求&lt;/h2&gt;
&lt;p&gt;有一个名为&lt;a href=&#34;https://github.com/jenkins-x/jenkins-x-boot-config/blob/master/jx-requirements.yml&#34;&gt;jx-requirements.yml&lt;/a&gt; 的文件，用于指定安装逻辑要求，如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用什么kubernetes服务提供商&lt;/li&gt;
&lt;li&gt;是否将机密存储在本地文件系统或保管库中&lt;/li&gt;
&lt;li&gt;如果您正在使用Terraform来管理您的云资源&lt;/li&gt;
&lt;li&gt;如果您希望使用kaniko进行容器映像构建&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这是&lt;code&gt;jx boot&lt;/code&gt;的主要配置文件，您可以在其中进行大部分更改。 您可能需要查看[jx-requirements.yml]（https://github.com/jenkins-x/jenkins-x-boot-config/blob/master/jx-requirements.yml）文件并进行任何需要更改。&lt;/p&gt;
&lt;h2 id=&#34;secrets&#34;&gt;Secrets&lt;/h2&gt;
&lt;p&gt;Boot 当前支持以下用于管理敏感信息Secrets的选项:&lt;/p&gt;
&lt;h3 id=&#34;本地存储&#34;&gt;本地存储&lt;/h3&gt;
&lt;p&gt;本地存储时默认设置，也可以通过以下方式改变存储配置 &lt;code&gt;secretStorage: local&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;cluster&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;provider&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gke&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;environments&lt;/span&gt;:
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;dev&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;staging&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;production&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;kaniko&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;secretStorage&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;local&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;webhook&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;prow&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果Secrets启用后是加载/保存到文件夹中 &lt;code&gt;~/.jx/localSecrets/$clusterName&lt;/code&gt;的话， 你可以通过 &lt;code&gt;$JX_HOME&lt;/code&gt; 来改变 &lt;code&gt;~/.jx&lt;/code&gt;的路径.&lt;/p&gt;
&lt;h3 id=&#34;vault&#34;&gt;Vault&lt;/h3&gt;
&lt;p&gt;使用我们推荐的GKE或EKS提供的Kubernetes服务时，可以通过以下方式配置 &lt;code&gt;secretStorage: vault&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;cluster&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;provider&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gke&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;environments&lt;/span&gt;:
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;dev&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;staging&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;production&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;kaniko&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;secretStorage&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;vault&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;webhook&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;prow&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这种配置会让 &lt;code&gt;jx boot&lt;/code&gt; 的流水线使用KMS和云存储安装的Vault来加载/保存机密。&lt;/p&gt;
&lt;p&gt;Vault的最大优势在于同一个团队的人可以轻松地在同一群集上运行 &lt;code&gt;jx boot&lt;/code&gt;。即使某人不小心删除了kubernetes集群，团队中其他人也很容易从KMS+云存储中还原之前的安装。&lt;/p&gt;
&lt;h2 id=&#34;webhook&#34;&gt;Webhook&lt;/h2&gt;
&lt;p&gt;Jenkins X 支持许多用于处理Webhook的引擎，还可以选择支持&lt;a href=&#34;https://jenkins-x.io/docs/resources/faq/using/chatops/&#34;&gt;ChatOps&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://jenkins-x.io/docs/reference/components/prow/&#34;&gt;Prow&lt;/a&gt; 和 &lt;a href=&#34;https://jenkins-x.io/architecture/lighthouse/&#34;&gt;Lighthouse&lt;/a&gt; 可以支持webhooks的方式和 &lt;a href=&#34;https://jenkins-x.io/docs/resources/faq/using/chatops/&#34;&gt;ChatOps&lt;/a&gt;。 但是Jenkins只能支持 webhooks.&lt;/p&gt;
&lt;h3 id=&#34;prow&#34;&gt;Prow&lt;/h3&gt;
&lt;p&gt;当用户选择 &lt;a href=&#34;https://jenkins-x.io/about/concepts/jenkins-x-pipelines/&#34;&gt;Serverless Jenkins X Pipelines&lt;/a&gt; 的安装方式，安装后Jenkins X服务会使用 &lt;a href=&#34;https://tekton.dev/&#34;&gt;Tekton&lt;/a&gt;的流水线引擎和GitHub的git服务。 &lt;a href=&#34;https://jenkins-x.io/docs/reference/components/prow/&#34;&gt;Prow&lt;/a&gt; 是默认的webhook和&lt;a href=&#34;https://jenkins-x.io/docs/resources/faq/using/chatops/&#34;&gt;ChatOps&lt;/a&gt;的引擎。&lt;/p&gt;
&lt;p&gt;它的配置方式在 &lt;code&gt;jx-requirements.yml&lt;/code&gt; 里 &lt;code&gt;webhook: prow&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;cluster&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;provider&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gke&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;environments&lt;/span&gt;:
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;dev&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;staging&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;production&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;kaniko&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;storage&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;logs&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;reports&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;repository&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;webhook&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;prow&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;lighthouse&#34;&gt;Lighthouse&lt;/h3&gt;
&lt;p&gt;当用户选择 &lt;a href=&#34;https://jenkins-x.io/about/concepts/jenkins-x-pipelines/&#34;&gt;Serverless Jenkins X Pipelines&lt;/a&gt; 和 &lt;a href=&#34;https://tekton.dev/&#34;&gt;Tekton&lt;/a&gt; 的安装方式，但是没有采用 github的服务而是其他git服务的时候， &lt;a href=&#34;https://jenkins-x.io/architecture/lighthouse/&#34;&gt;Lighthouse&lt;/a&gt; 变成了默认的webhook和&lt;a href=&#34;https://jenkins-x.io/docs/resources/faq/using/chatops/&#34;&gt;ChatOps&lt;/a&gt;引擎。现在Prow的开源软件只支持github的Git服务。&lt;/p&gt;
&lt;p&gt;以后如果Lighthouse开源软件经过了充分的测试后更加稳定，我们会将它设为默认 &lt;a href=&#34;https://jenkins-x.io/about/concepts/jenkins-x-pipelines/&#34;&gt;Serverless Jenkins X Pipelines&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Its configured via the &lt;code&gt;webhook: lighthouse&lt;/code&gt; in &lt;code&gt;jx-requirements.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;cluster&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;provider&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gke&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;environments&lt;/span&gt;:
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;dev&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;staging&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;production&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;kaniko&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;storage&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;logs&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;reports&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;repository&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;webhook&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;lighthouse&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;jenkins&#34;&gt;Jenkins&lt;/h3&gt;
&lt;p&gt;要使用Jenkins服务器来处理Webhook和pipeline，请改动&lt;code&gt;jx-requirements.yml&lt;/code&gt;中的&lt;code&gt;webhook: jenkins&lt;/code&gt;。&lt;/p&gt;
&lt;h2 id=&#34;git&#34;&gt;Git&lt;/h2&gt;
&lt;p&gt;Jenkins X支持许多不同的git服务。 您可以在&lt;a href=&#34;https://github.com/jenkins-x/jenkins-x-boot-config/blob/master/jx-requirements.yml&#34;&gt;jx-requirements.yml&lt;/a&gt; 文件里为每个环境指定相应的git服务供应商及git定义的组织 - organization。&lt;/p&gt;
&lt;h3 id=&#34;github&#34;&gt;GitHub&lt;/h3&gt;
&lt;p&gt;如果您没做任何改动，这些是默认设置。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;cluster&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;environmentGitOwner&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;myorg&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;provider&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gke&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;environments&lt;/span&gt;:
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;dev&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;staging&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;production&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;kaniko&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;storage&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;logs&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;reports&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;repository&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;webhook&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;prow&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;github-enterprise&#34;&gt;GitHub Enterprise&lt;/h3&gt;
&lt;p&gt;配置与上面类似，但是您需要指定 &lt;code&gt;gitServer&lt;/code&gt; 的URL (如果您用的git服务不是https://github.com) 和 &lt;code&gt;gitKind: github&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;cluster&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;provider&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gke&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;environmentGitOwner&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;myorg&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;gitKind&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;github&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;gitName&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;ghe&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;gitServer&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;https://github.myserver.com&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;environments&lt;/span&gt;:
  - &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;dev&lt;/span&gt;
  - &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;staging&lt;/span&gt;
  - &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;production&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;kaniko&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;secretStorage&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;local&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;storage&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;logs&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gs://jx-logs&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;reports&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gs://jx-logs&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;repository&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gs://jx-logs&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;webhook&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;lighthouse&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;bitbucket-server&#34;&gt;Bitbucket Server&lt;/h3&gt;
&lt;p&gt;您要指定 &lt;code&gt;gitServer&lt;/code&gt; 和 &lt;code&gt;gitKind: bitbucketserver&lt;/code&gt;. 如果您安装的是 &lt;a href=&#34;https://jenkins-x.io/about/concepts/jenkins-x-pipelines/&#34;&gt;Serverless Jenkins X Pipelines&lt;/a&gt; 和 &lt;a href=&#34;https://tekton.dev/&#34;&gt;Tekton&lt;/a&gt;， 您需要通过指定 &lt;code&gt;webhook: lighthouse&lt;/code&gt; 来使用&lt;a href=&#34;#webhook&#34;&gt;lighthouse webhook&lt;/a&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;cluster&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;provider&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gke&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;environmentGitOwner&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;myorg&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;gitKind&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;bitbucketserver&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;gitName&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;bs&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;gitServer&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;https://bitbucket.myserver.com&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;environments&lt;/span&gt;:
  - &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;dev&lt;/span&gt;
  - &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;staging&lt;/span&gt;
  - &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;production&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;kaniko&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;secretStorage&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;local&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;storage&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;logs&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gs://jx-logs&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;reports&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gs://jx-logs&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;repository&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gs://jx-logs&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;webhook&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;lighthouse&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;bitbucket-cloud&#34;&gt;Bitbucket Cloud&lt;/h3&gt;
&lt;p&gt;您要指定 &lt;code&gt;gitKind: bitbucketcloud&lt;/code&gt;. 如果您安装的是 &lt;a href=&#34;https://jenkins-x.io/about/concepts/jenkins-x-pipelines/&#34;&gt;Serverless Jenkins X Pipelines&lt;/a&gt; 和 &lt;a href=&#34;https://tekton.dev/&#34;&gt;Tekton&lt;/a&gt;， 您需要通过指定 &lt;code&gt;webhook: lighthouse&lt;/code&gt; 来使用&lt;a href=&#34;#webhook&#34;&gt;lighthouse webhook&lt;/a&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;cluster&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;provider&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gke&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;environmentGitOwner&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;myorg&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;gitKind&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;bitbucketcloud&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;gitName&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;bc&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;environments&lt;/span&gt;:
  - &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;dev&lt;/span&gt;
  - &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;staging&lt;/span&gt;
  - &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;production&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;kaniko&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;secretStorage&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;local&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;storage&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;logs&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gs://jx-logs&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;reports&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gs://jx-logs&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;repository&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gs://jx-logs&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;webhook&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;lighthouse&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;gitlab&#34;&gt;Gitlab&lt;/h3&gt;
&lt;p&gt;您要指定 &lt;code&gt;gitServer&lt;/code&gt; 的URL 和 &lt;code&gt;gitKind: gitlab&lt;/code&gt;. 如果您安装的是 &lt;a href=&#34;https://jenkins-x.io/about/concepts/jenkins-x-pipelines/&#34;&gt;Serverless Jenkins X Pipelines&lt;/a&gt; 和 &lt;a href=&#34;https://tekton.dev/&#34;&gt;Tekton&lt;/a&gt;， 您需要通过指定 &lt;code&gt;webhook: lighthouse&lt;/code&gt; 来使用&lt;a href=&#34;#webhook&#34;&gt;lighthouse webhook&lt;/a&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;cluster&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;provider&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gke&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;environmentGitOwner&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;myorg&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;gitKind&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gitlab&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;gitName&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gl&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;gitServer&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;https://gitlab.com&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;environments&lt;/span&gt;:
  - &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;dev&lt;/span&gt;
  - &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;staging&lt;/span&gt;
  - &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;production&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;kaniko&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;secretStorage&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;local&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;storage&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;logs&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gs://jx-logs&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;reports&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gs://jx-logs&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;repository&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gs://jx-logs&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;webhook&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;lighthouse&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;storage&#34;&gt;Storage&lt;/h2&gt;
&lt;p&gt;文件 &lt;a href=&#34;https://github.com/jenkins-x/jenkins-x-boot-config/blob/master/jx-requirements.yml&#34;&gt;jx-requirements.yml&lt;/a&gt;  可以配置您是否要对日志和报告使用长期存储，和选择用于存储数据的云存储。&lt;/p&gt;
&lt;p&gt;下面这个 &lt;code&gt;jx-requirements.yml&lt;/code&gt; 文件是使用长期存储的例子:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;cluster&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;provider&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gke&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;environments&lt;/span&gt;:
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;dev&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;staging&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;production&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;kaniko&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;storage&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;logs&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;reports&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;repository&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;您还可以在&lt;code&gt;storage&lt;/code&gt;部分中指定存储分区的URL。支持以下URL语法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;gs://anotherBucket/mydir/something.txt&lt;/code&gt; : 使用谷歌云的GCS bucket&lt;/li&gt;
&lt;li&gt;&lt;code&gt;s3://nameOfBucket/mydir/something.txt&lt;/code&gt; : 使用亚马逊AWS的 S3 bucket&lt;/li&gt;
&lt;li&gt;&lt;code&gt;azblob://thatBucket/mydir/something.txt&lt;/code&gt; : 使用微软的Azure bucket&lt;/li&gt;
&lt;li&gt;&lt;code&gt;http://foo/bar&lt;/code&gt; : 不使用HTTPS方式存储在git中的文件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;https://foo/bar&lt;/code&gt; : 使用HTTPS方式存储在git中的文件&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;e.g.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;cluster&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;provider&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gke&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;environments&lt;/span&gt;:
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;dev&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;staging&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;production&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;kaniko&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;storage&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;logs&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gs://my-logs&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;reports&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gs://my-logs&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;repository&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gs://my-repo&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;For more details see the &lt;a href=&#34;https://jenkins-x.io/docs/guides/managing-jx/common-tasks/storage/&#34;&gt;Storage Guide&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;ingress&#34;&gt;Ingress&lt;/h2&gt;
&lt;p&gt;如果您采用&lt;a href=&#34;https://github.com/jenkins-x/jenkins-x-boot-config/blob/master/jx-requirements.yml&#34;&gt;jx-requirements.yml&lt;/a&gt; 默认设置， jx boot 会使用HTTP 而不是 HTTPS，同时也会使用 &lt;a href=&#34;https://nip.io/&#34;&gt;nip.io&lt;/a&gt; 作为DNS机制。&lt;/p&gt;
&lt;p&gt;在默认情况下运行boot后， &lt;code&gt;jx-requirements.yml&lt;/code&gt; 配置如下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;cluster&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;provider&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gke&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;clusterName&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;my-cluster-name&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;environmentGitOwner&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;my-git-org&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;project&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;my-gke-project&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;zone&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;europe-west1-d&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;environments&lt;/span&gt;:
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;dev&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;staging&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;production&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;ingress&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;domain&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;1.2.3.4&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;.nip.io&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;externalDNS&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;tls&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;email&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;production&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;kaniko&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;secretStorage&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;local&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;storage&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;logs&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;reports&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;repository&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;webhook&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;prow&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果您希望启用外部DNS（为所有导出的服务自动注册DNS名称）使用DNS域名或者TLS，请修改您的 &lt;code&gt;ingress&lt;/code&gt; 部分，可以在&lt;code&gt;jx-requirements.yml&lt;/code&gt;文件中添加 &lt;code&gt;ingress.domain&lt;/code&gt; 和 &lt;code&gt;ingress.externalDNS = true&lt;/code&gt; ，然后重新运行&lt;code&gt;jx boot&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;您也可以通过&lt;code&gt;ingress.tls.enabled = true&lt;/code&gt;更新配置以启用TLS。下面有一个完整的示例。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;cluster&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;clusterName&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;mycluster&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;environmentGitOwner&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;myorg&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;gitKind&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;github&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;gitName&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;github&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;gitServer&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;https://github.com&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;namespace&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;jx&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;provider&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gke&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;vaultName&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;jx-vault-myname&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;environments&lt;/span&gt;:
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;dev&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;staging&lt;/span&gt;
- &lt;span style=&#34;color:#f92672&#34;&gt;key&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;production&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;gitops&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;ingress&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;domain&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;my.domain.com&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;externalDNS&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;namespaceSubDomain&lt;/span&gt;: -&lt;span style=&#34;color:#ae81ff&#34;&gt;jx.&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;tls&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;email&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;someone@acme.com&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;production&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;kaniko&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;secretStorage&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;vault&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;storage&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;logs&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;gs://jx-prod-logs&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;reports&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;repository&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;webhook&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;prow&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
    <item>
      <title>Docs: 创建自定义 Builder</title>
      <link>https://jenkins-x.io/zh/docs/managing-jx/common-tasks/create-custom-builder/</link>
      <pubDate>Sat, 22 Sep 2018 00:00:00 +0000</pubDate>
      
      <guid>https://jenkins-x.io/zh/docs/managing-jx/common-tasks/create-custom-builder/</guid>
      <description>
        
        
        &lt;p&gt;在 Jenkins X 中，可以创建字段自定义的 Builder （也就是 &lt;a href=&#34;https://github.com/jenkinsci/kubernetes-plugin&#34;&gt;POD templates&lt;/a&gt;）或覆盖已有的。你只需要基于 &lt;a href=&#34;https://github.com/jenkins-x/jenkins-x-builders-base/blob/master/Dockerfile.common&#34;&gt;builder-base&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id=&#34;从零创建一个自定义-builder&#34;&gt;从零创建一个自定义 Builder&lt;/h2&gt;
&lt;h3 id=&#34;builder-镜像&#34;&gt;Builder 镜像&lt;/h3&gt;
&lt;p&gt;首先，您需要为 Builder 创建一个 docker 镜像。从 &lt;code&gt;Dockerfile&lt;/code&gt; 开始的一个实例可能类似于：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; jenkinsxio/builder-base:latest&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Install your tools and libraries&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;RUN&lt;/span&gt; yum install -y gcc openssl-devel&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;CMD&lt;/span&gt; [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;gcc&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;现在，您可以构建并发布这个镜像到您的 registry：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;export BUILDER_IMAGE&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&amp;lt;YOUR_REGISTRY&amp;gt;/&amp;lt;YOUR_BUILDER_IMAGE&amp;gt;:&amp;lt;VERSION&amp;gt;
docker build -t &lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;BUILDER_IMAGE&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt; .
docker push &lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;BUILDER_IMAGE&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;别担心，当新的镜像需要构建时，您无需每次手动执行这些步骤。Jenkins X 可以为您管理这些。您只需要把 &lt;code&gt;Dockerfile&lt;/code&gt; 推送到类似于&lt;a href=&#34;https://github.com/jenkins-x/jenkins-x-builders/tree/master/builder-go&#34;&gt;这个&lt;/a&gt;代码仓库中。然后，根据您的组织名称来调整 &lt;code&gt;Jenkinsfile&lt;/code&gt; ，并使用下面的命令导入 Jenkins X 平台：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;jx import --url &amp;lt;REPOSITORY_URL&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;之后，您每次推送一个变更，Jenkins X 将会自动地构建和发布镜像。&lt;/p&gt;
&lt;h3 id=&#34;安装-builder&#34;&gt;安装 Builder&lt;/h3&gt;
&lt;p&gt;当您安装或者升级 Jenkins X 时就可以安装您的 Builder 了。&lt;/p&gt;
&lt;p&gt;在您的 &lt;code&gt;~/.jx/&lt;/code&gt; 目录下创建文件  &lt;code&gt;myvalues.yaml&lt;/code&gt; 并写入下面内容：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;jenkins&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;Agent&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;PodTemplates&lt;/span&gt;:
      &lt;span style=&#34;color:#f92672&#34;&gt;MyBuilder&lt;/span&gt;:
        &lt;span style=&#34;color:#f92672&#34;&gt;Name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;mybuilder&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;Label&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;jenkins-mybuilder&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;volumes&lt;/span&gt;:
        - &lt;span style=&#34;color:#f92672&#34;&gt;type&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Secret&lt;/span&gt;
          &lt;span style=&#34;color:#f92672&#34;&gt;secretName&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;jenkins-docker-cfg&lt;/span&gt;
          &lt;span style=&#34;color:#f92672&#34;&gt;mountPath&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;/home/jenkins/.docker&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;EnvVars&lt;/span&gt;:
          &lt;span style=&#34;color:#f92672&#34;&gt;JENKINS_URL&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;http://jenkins:8080&lt;/span&gt;
          &lt;span style=&#34;color:#f92672&#34;&gt;GIT_COMMITTER_EMAIL&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;jenkins-x@googlegroups.com&lt;/span&gt;
          &lt;span style=&#34;color:#f92672&#34;&gt;GIT_AUTHOR_EMAIL&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;jenkins-x@googlegroups.com&lt;/span&gt;
          &lt;span style=&#34;color:#f92672&#34;&gt;GIT_AUTHOR_NAME&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;jenkins-x-bot&lt;/span&gt;
          &lt;span style=&#34;color:#f92672&#34;&gt;GIT_COMMITTER_NAME&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;jenkins-x-bot&lt;/span&gt;
          &lt;span style=&#34;color:#f92672&#34;&gt;XDG_CONFIG_HOME&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;/home/jenkins&lt;/span&gt;
          &lt;span style=&#34;color:#f92672&#34;&gt;DOCKER_CONFIG&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;/home/jenkins/.docker/&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;ServiceAccount&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;jenkins&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;Containers&lt;/span&gt;:
          &lt;span style=&#34;color:#f92672&#34;&gt;Jnlp&lt;/span&gt;:
            &lt;span style=&#34;color:#f92672&#34;&gt;Image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;jenkinsci/jnlp-slave:3.14-1&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;RequestCpu&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;100m&amp;#34;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;RequestMemory&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;128Mi&amp;#34;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;Args&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;${computer.jnlpmac} ${computer.name}&amp;#39;&lt;/span&gt;
          &lt;span style=&#34;color:#f92672&#34;&gt;Dlang&lt;/span&gt;:
            &lt;span style=&#34;color:#f92672&#34;&gt;Image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;&amp;lt;YOUR_BUILDER_IMAGE&amp;gt;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;Privileged&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;RequestCpu&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;400m&amp;#34;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;RequestMemory&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;512Mi&amp;#34;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;LimitCpu&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;LimitMemory&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1024Mi&amp;#34;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;Command&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/bin/sh -c&amp;#34;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;Args&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cat&amp;#34;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;Tty&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;根据需要替换 Builder 名称和镜像。&lt;/p&gt;
&lt;p&gt;您可以继续安装 Jenkins X ，然后 Builder 将会自动添加到平台。&lt;/p&gt;
&lt;h3 id=&#34;使用-builder&#34;&gt;使用 Builder&lt;/h3&gt;
&lt;p&gt;现在，您的 Builder 已经在 Jenkins 中安装了，您可以在 &lt;code&gt;Jenkinsfile&lt;/code&gt; 中轻松地引用：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Groovy&#34; data-lang=&#34;Groovy&#34;&gt;pipeline &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
    agent &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        label &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;jenkins-mybuilder&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
    stages &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
      stage&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Build&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        when &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
          branch &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;master&amp;#39;&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
        steps &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
          container&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;mybuilder&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
              &lt;span style=&#34;color:#75715e&#34;&gt;// your steps
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;          &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
      &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
    post &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        always &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
            cleanWs&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;覆盖已有的-builder&#34;&gt;覆盖已有的 Builder&lt;/h2&gt;
&lt;p&gt;Jenkins X 自带了很多&lt;a href=&#34;https://raw.githubusercontent.com/jenkins-x/jenkins-x-platform/master/values.yaml&#34;&gt;预安装的 Builder&lt;/a&gt;，在安装或升级过程中可以根据需要覆盖。&lt;/p&gt;
&lt;p&gt;您只需要基于&lt;a href=&#34;https://github.com/jenkins-x/jenkins-x-builders-base/blob/master/Dockerfile.common&#34;&gt;基础 Builder&lt;/a&gt; 镜像或者&lt;a href=&#34;https://hub.docker.com/u/jenkinsxio/&#34;&gt;Builder 镜像&lt;/a&gt; 自定义。在上面查看细节。&lt;/p&gt;
&lt;p&gt;然后，您可以在目录 &lt;code&gt;~/.jx/&lt;/code&gt; 中创建文件 &lt;code&gt;myvalues.yaml&lt;/code&gt; ，并写入一下内容：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;jenkins&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;Agent&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;PodTemplates&lt;/span&gt;:
      &lt;span style=&#34;color:#f92672&#34;&gt;Maven&lt;/span&gt;:
        &lt;span style=&#34;color:#f92672&#34;&gt;Containers&lt;/span&gt;:
          &lt;span style=&#34;color:#f92672&#34;&gt;Maven&lt;/span&gt;:
            &lt;span style=&#34;color:#f92672&#34;&gt;Image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;&amp;lt;YOUR_REGISTRY&amp;gt;/&amp;lt;YOUR_MAVEN_BUILDER_IMAGE&amp;gt;:&amp;lt;VERSION&amp;gt;&lt;/span&gt;
      &lt;span style=&#34;color:#f92672&#34;&gt;Nodejs&lt;/span&gt;:
        &lt;span style=&#34;color:#f92672&#34;&gt;Containers&lt;/span&gt;:
          &lt;span style=&#34;color:#f92672&#34;&gt;Nodejs&lt;/span&gt;:
            &lt;span style=&#34;color:#f92672&#34;&gt;Image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;&amp;lt;YOUR_REGISTRY&amp;gt;/&amp;lt;YOUR_NODEJS_BUILDER_IMAGE&amp;gt;:&amp;lt;VERSION&amp;gt;&lt;/span&gt;
      &lt;span style=&#34;color:#f92672&#34;&gt;Go&lt;/span&gt;:
        &lt;span style=&#34;color:#f92672&#34;&gt;Containers&lt;/span&gt;:
          &lt;span style=&#34;color:#f92672&#34;&gt;Go&lt;/span&gt;:
            &lt;span style=&#34;color:#f92672&#34;&gt;Image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;&amp;lt;YOUR_REGISTRY&amp;gt;/&amp;lt;YOUR_GO_BUILDER_IMAGE&amp;gt;:&amp;lt;VERSION&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;您可以继续安装 Jenkins X，这些 Builder 将会自动地添加到平台。&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: 配置</title>
      <link>https://jenkins-x.io/zh/docs/managing-jx/common-tasks/config/</link>
      <pubDate>Fri, 20 Jul 2018 00:00:00 +0000</pubDate>
      
      <guid>https://jenkins-x.io/zh/docs/managing-jx/common-tasks/config/</guid>
      <description>
        
        
        &lt;p&gt;Jenkins X 应该为你的云服务商提供默认可用的配置。例如：如果你使用 AWS 或 EKS，Jenkins X 自动地使用 ECR。&lt;/p&gt;
&lt;p&gt;然而，你可以修改 Jenkins X 使用的 helm charts 的配置。&lt;/p&gt;
&lt;p&gt;要做到这一点，你需要在运行命令 &lt;a href=&#34;https://jenkins-x.io/commands/jx_create_cluster/&#34;&gt;jx create cluster&lt;/a&gt; 或 &lt;a href=&#34;https://jenkins-x.io/commands/deprecation/&#34;&gt;jx install&lt;/a&gt; 的目录下创建一个文件 &lt;code&gt;myvalues.yaml&lt;/code&gt; 。&lt;/p&gt;
&lt;p&gt;然后，这个 YAML 文件可以覆盖 Jenkins X 中的任何 charts 中的 &lt;code&gt;values.yaml&lt;/code&gt; 文件。&lt;/p&gt;
&lt;h2 id=&#34;nexus&#34;&gt;Nexus&lt;/h2&gt;
&lt;p&gt;例如：如果你希望在安装过程中禁用 Nexus，而使用不同主机上的一个独立的 Nexus，那么，你可以使用 &lt;code&gt;myvalues.yaml&lt;/code&gt; 中的服务链接来替代：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;nexus&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;nexusServiceLink&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;externalName&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;nexus.jx.svc.cluster.local&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;要禁用并使用 chart museum 的服务链接的话添加：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;chartmuseum&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;chartmuseumServiceLink&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;enabled&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;externalName&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;jenkins-x-chartmuseum.jx.svc.cluster.local&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;jenkins-镜像&#34;&gt;Jenkins 镜像&lt;/h2&gt;
&lt;p&gt;Jenkins X 中我们提供了一个默认的 Jenkins docker 镜像 &lt;a href=&#34;https://hub.docker.com/r/jenkinsxio/jenkinsx/&#34;&gt;jenkinsxio/jenkinsx&lt;/a&gt;，把我们所需要的所有插件包含在里面。&lt;/p&gt;
&lt;p&gt;如果你想添加自己的插件，你可以使用我们的基础镜像创建一个你自己的 Dockerfile 和镜像，如下所示：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Dockerfile for adding plugins to Jenkins X&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; jenkinsxio/jenkinsx:latest&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;COPY&lt;/span&gt; plugins.txt /usr/share/jenkins/ref/openshift-plugins.txt&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;RUN&lt;/span&gt; /usr/local/bin/install-plugins.sh &amp;lt; /usr/share/jenkins/ref/openshift-plugins.txt&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后以下面的形式将你所有自定义插件放到 &lt;code&gt;plugins.txt&lt;/code&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;myplugin:1.2.3
anotherplugin:4.5.6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;一旦你通过 CI/CD 构建和发布了你的镜像，你就可以在安装 Jenkins X 时使用它：&lt;/p&gt;
&lt;p&gt;为了用你自定义的镜像配置 Jenkins X ，你可以在 &lt;code&gt;myvalues.yaml&lt;/code&gt; 文件中指定你的 Jenkins 镜像：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;jenkins&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;Master&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;Image&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;acme/my-jenkinsx&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;ImageTag&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1.2.3&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这里有一个开源项目的例子 &lt;a href=&#34;https://github.com/jenkins-x/jenkins-x-openshift-image&#34;&gt;jenkins-x/jenkins-x-openshift-image&lt;/a&gt;，你可以以它为模板创建一个新的 Jenkins 镜像用来在 OpenShift 上使用 Jenkins X 时增加 OpenShift 特定的插件和配置。&lt;/p&gt;
&lt;h2 id=&#34;docker-registry&#34;&gt;Docker Registry&lt;/h2&gt;
&lt;p&gt;We try and use the best defaults for each platform for the Docker Registry; e.g. using ECR on AWS.&lt;/p&gt;
&lt;p&gt;然而，你也可以在执行命令 &lt;a href=&#34;https://jenkins-x.io/commands/jx_create_cluster/&#34;&gt;jx create cluster&lt;/a&gt; 或 &lt;a href=&#34;https://jenkins-x.io/commands/deprecation/&#34;&gt;jx install&lt;/a&gt; 时，通过选项 &lt;code&gt;--docker-registry&lt;/code&gt; 来指定。&lt;/p&gt;
&lt;p&gt;例如：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;jx create cluster gke --docker-registry eu.gcr.io
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;但是，如果你使用了不同的 Docker Registry 的话，你可能需要&lt;a href=&#34;https://jenkins-x.io/docs/reference/components/docker-registry/#update-the-config-json-secret&#34;&gt;修改 secret 才能连接到 docker&lt;/a&gt;。&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: 安装过程中发生了什么</title>
      <link>https://jenkins-x.io/zh/docs/managing-jx/common-tasks/install-on-cluster-what-happens/</link>
      <pubDate>Tue, 10 Jul 2018 00:00:00 +0000</pubDate>
      
      <guid>https://jenkins-x.io/zh/docs/managing-jx/common-tasks/install-on-cluster-what-happens/</guid>
      <description>
        
        
        &lt;p&gt;Jenkins X 命令行在安装 Jenkins X 平台时会做如下事情：&lt;/p&gt;
&lt;h2 id=&#34;安装二进制客户端来管理你的集群&#34;&gt;安装二进制客户端来管理你的集群&lt;/h2&gt;


&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;

如果您运行在 Mac OS X 上，Jenkins X 会使用 &lt;code&gt;Homebrew&lt;/code&gt; 来安装不同的命令行。不存在就会安装。
&lt;/div&gt;

&lt;h3 id=&#34;安装-kubectl&#34;&gt;安装 kubectl&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://kubernetes.io/docs/reference/kubectl/kubectl/&#34;&gt;kubectl&lt;/a&gt; 是 Kubernetes 的命令行。它允许您和您的 Kubernetes 集群通过 API server 交互。&lt;/p&gt;
&lt;h3 id=&#34;安装-helm&#34;&gt;安装 Helm&lt;/h3&gt;
&lt;p&gt;Jenkins X 将会安装 &lt;a href=&#34;https://github.com/kubernetes/helm&#34;&gt;helm&lt;/a&gt; 客户端 - (可能是  helm &lt;em&gt;2.x&lt;/em&gt; 或 helm &lt;em&gt;3&lt;/em&gt;)，如果它不在您的环境变量里的话。Helm 是用于打包 Kubernetes 中的应用或资源（也叫做 charts），并迅速地成为标准。&lt;/p&gt;
&lt;h3 id=&#34;安装云提供商的命令行&#34;&gt;安装云提供商的命令行&lt;/h3&gt;
&lt;p&gt;如果您在使用公有云，会有相关的命令行来与之交互。当通过 &lt;a href=&#34;https://jenkins-x.io/docs/getting-started/setup/create-cluster/&#34;&gt;jx create cluster&lt;/a&gt; 命令来安装时，您的云提供商相关的二进制如果不在环境变量里的话，也会被安装。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AKS 集群（Azure）的 &lt;code&gt;az&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;GKE 集群 (Google Cloud) 的 &lt;code&gt;gcloud&lt;/code&gt; for GKE cluster (Google Cloud)&lt;/li&gt;
&lt;li&gt;AWS 集群 (Amazon Web Services) 的 &lt;code&gt;kops&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://aws.amazon.com/eks/&#34;&gt;AWS EKS&lt;/a&gt; 集群的 &lt;code&gt;eksctl&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;OKS 集群 (Oracle Cloud) 的 &lt;code&gt;oci&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果您想要在本地通过 minikube 或 minishift 运行 Jenkins X 的话，下面的二进制会被添加：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本地 minishift (OpenShift) 集群 的 &lt;code&gt;oc&lt;/code&gt; (OpenShift CLI) 和 &lt;code&gt;minishift&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;本地 minikube 集群的 &lt;code&gt;minikube&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;最后，Jenkins X 将会根据需要安装 VM 驱动，通常 Mac OS X 上是 &lt;code&gt;xhyve&lt;/code&gt; 或 Windows 上是 &lt;code&gt;hyperv&lt;/code&gt; 。其他驱动则需要手动安装。&lt;/p&gt;
&lt;h2 id=&#34;创建-kubernetes-集群&#34;&gt;创建 Kubernetes 集群&lt;/h2&gt;
&lt;p&gt;之后，集群会通过云提供商的命令来创建（例如：Azure 的 &lt;code&gt;az aks create&lt;/code&gt; 命令）。&lt;/p&gt;
&lt;h2 id=&#34;设置-jenkins-x-平台&#34;&gt;设置 Jenkins X 平台&lt;/h2&gt;
&lt;h3 id=&#34;创建-jenkins-x-命名空间&#34;&gt;创建 Jenkins X 命名空间&lt;/h3&gt;
&lt;p&gt;然后，会为 Jenkins X 平台创建一个命名空间，用于存放 Jenkins X 基础组件。默认为：&lt;em&gt;jx&lt;/em&gt;。&lt;/p&gt;
&lt;h3 id=&#34;安装-tiller可选只有-helm-2-需要&#34;&gt;安装 Tiller（可选，只有 Helm 2 需要）&lt;/h3&gt;
&lt;p&gt;Tiller，也就是 Helm 的服务器端，会部署到命名空间 &lt;em&gt;kube-system&lt;/em&gt; 中。&lt;a href=&#34;https://www.helm.sh/&#34;&gt;Helm&lt;/a&gt; 是 Kubernetes 的包管理器，也用于部署 Jenkins X 的其他组件。&lt;/p&gt;
&lt;h3 id=&#34;设置-ingress-控制器&#34;&gt;设置 Ingress 控制器&lt;/h3&gt;
&lt;p&gt;在 Kubernetes 集群中，Service 和 Pod 的 IP 只能在集群网络中访问。为了能够访问集群，必须要创建一个 Ingress。Ingress 是路由到集群内的 Service 的规则集。Ingress 规则是由 Kubernetes API 配置在 Ingress 资源中，而 Ingress Controller 是必要的。所有的这些 Jenkins X 都会替您做——为下面的 Service 设置一个 Ingress Controller 和相关联的后端 Ingress 规则（一旦部署完后）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;chartmuseum&lt;/li&gt;
&lt;li&gt;docker-registry&lt;/li&gt;
&lt;li&gt;jenkins&lt;/li&gt;
&lt;li&gt;monocular&lt;/li&gt;
&lt;li&gt;nexus&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;

默认，Jenkins X 将会通过域名 &lt;em&gt;nip.io&lt;/em&gt; 暴露 Ingress，并生成自签名的证书。当按照完后，您可以通过命令 &lt;code&gt;jx upgrade ingress --cluster&lt;/code&gt; 轻松地修改为您自己的域名和签名。
&lt;/div&gt;

&lt;h3 id=&#34;配置-git-仓库&#34;&gt;配置 git 仓库&lt;/h3&gt;
&lt;p&gt;Jenkins X 需要一个 Git 仓库提供商，以便能够插件环境仓库。如果您没有提供参数 &lt;em&gt;git-provider-url&lt;/em&gt; 的划，默认使用 GitHub。您需要提供用户名和 Token 来和 Git 交互，尤其是 Jenkins。&lt;/p&gt;
&lt;h2 id=&#34;创建管理员凭据&#34;&gt;创建管理员凭据&lt;/h2&gt;
&lt;p&gt;Jenkins X 为 Monocular/Nexus/Jenkins 生成管理员密码并保存到 Secret 中。当在 helm 安装的时候就会取出来使用（因此，密码可以用在流水线中）。&lt;/p&gt;
&lt;h3 id=&#34;检出云环境仓库&#34;&gt;检出云环境仓库&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jenkins-x/cloud-environments&#34;&gt;云环境仓库&lt;/a&gt;保存所有特定的配置以及加密的 Secret，这些将会应用在您的 Kubernetes 集群中的 Jenkins 平台。这些 Secret 将会由 Helm 包管理器来加解密。&lt;/p&gt;
&lt;h2 id=&#34;安装-jenkins-x-平台&#34;&gt;安装 Jenkins X 平台&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jenkins-x/jenkins-x-platform&#34;&gt;Jenkins X 平台&lt;/a&gt;保存安装了的组件的 Helm Chart，用于提供 Jenins X 真正的 CD 解决方案。这包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/jenkinsci/jenkins&#34;&gt;Jenkins&lt;/a&gt; 一个 CI/CD 流水线方案&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.sonatype.com/nexus-repository-oss&#34;&gt;Nexus&lt;/a&gt; 一个制品仓库&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/kubernetes-helm/chartmuseum&#34;&gt;ChartMuseum&lt;/a&gt; 一个 Helm Chart 仓库&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/kubernetes-helm/monocular&#34;&gt;Monocular&lt;/a&gt; 提供了一个 Web UI 用于搜索和发现通过 Jenkins X 部署到您的集群中的 Chart。&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: 在 Kubernetes 上安装</title>
      <link>https://jenkins-x.io/zh/docs/managing-jx/common-tasks/install-on-cluster/</link>
      <pubDate>Sat, 21 Apr 2018 00:00:00 +0000</pubDate>
      
      <guid>https://jenkins-x.io/zh/docs/managing-jx/common-tasks/install-on-cluster/</guid>
      <description>
        
        
        &lt;p&gt;Jenkins X 可以在 Kubernetes 1.8 以及更高版本上安装。需要的依赖有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RBAC 是可用的&lt;/li&gt;
&lt;li&gt;启用 docker 私有仓库。这样的话，流水线可以在 Kubernetes 集群中使用 docker 仓库（通常不是公共的因此不支持 https）。后续，你可以修改你的流水线来使用其他仓库。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;通过-kops-启用私有仓库&#34;&gt;通过 kops 启用私有仓库&lt;/h3&gt;
&lt;p&gt;注意，如果你是在 AWS 环境中，你可能会想使用 &lt;a href=&#34;https://jenkins-x.io/zh/docs/getting-started/setup/create-cluster/&#34;&gt;jx create aws&lt;/a&gt; 命令来帮你自动化完成所有步骤！&lt;/p&gt;
&lt;p&gt;如果你是通过 &lt;a href=&#34;https://github.com/kubernetes/kops&#34;&gt;kops&lt;/a&gt; 创建的 kubernetes 集群，那么你可以这么做：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;kops edit cluster
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后，确保在 YAML 文件的章节 &lt;code&gt;spec&lt;/code&gt; 中有 &lt;code&gt;docker&lt;/code&gt; 配置：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;...
&lt;span style=&#34;color:#f92672&#34;&gt;spec&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;docker&lt;/span&gt;:
    &lt;span style=&#34;color:#f92672&#34;&gt;insecureRegistry&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;100.64.0.0&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;/10&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;logDriver&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;上面的 IP 范围 &lt;code&gt;100.64.0.0/10&lt;/code&gt; 是 AWS 上的，但你需要修改为其他 Kubernetes 集群的；它依赖于 Kubernetes 服务的 IP 范围。&lt;/p&gt;
&lt;p&gt;保存后，你可以参考下面的命令进行验证：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;kops get cluster -oyaml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后查找 &lt;code&gt;insecureRegistry&lt;/code&gt; 章节。&lt;/p&gt;
&lt;p&gt;现在，确保这些修改在你的集群类型上是激活的：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;kops update cluster --yes
kops rolling-update cluster --yes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;你现在可以继续了！&lt;/p&gt;
&lt;h3 id=&#34;安装-jenkins-x&#34;&gt;安装 Jenkins X&lt;/h3&gt;
&lt;p&gt;为了在已有的 kubernetes 集群上安装 Jenkins X 你可以使用命令 &lt;a href=&#34;https://jenkins-x.io/commands/deprecation/&#34;&gt;jx install&lt;/a&gt; ：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;jx install
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果你知道提供商的话，可以通过命令行来指定。例如：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;jx install --provider=aws
&lt;/code&gt;&lt;/pre&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: 通过 GitOps 管理</title>
      <link>https://jenkins-x.io/zh/docs/managing-jx/common-tasks/manage-via-gitops/</link>
      <pubDate>Tue, 01 Nov 2016 00:00:00 +0000</pubDate>
      
      <guid>https://jenkins-x.io/zh/docs/managing-jx/common-tasks/manage-via-gitops/</guid>
      <description>
        
        
        &lt;p&gt;我们推荐你使用 GitOps 管理你的 Jenkins X 设施，升级它、配置它、以及添加或移除扩展&lt;a href=&#34;https://jenkins-x.io/docs/contributing/addons/&#34;&gt;应用&lt;/a&gt;，这样容易审计谁在你的设施上做了什么变更并且容易恢复坏的变更。&lt;/p&gt;
&lt;p&gt;当前这仅在 AWS 和 Google 云可用，因为它要求我们的 vault 操作员（需要云存储和 KMS ）存储凭据，而所有其他配置都存储在开发环境 git 仓库中。&lt;/p&gt;
&lt;h2 id=&#34;使用-gitops-管理-jenkins-x&#34;&gt;使用 GitOps 管理 Jenkins X&lt;/h2&gt;
&lt;p&gt;如果你正在创建一个集群或者在已经存在的集群安装，这里有一种快速简便的方法来使用 GitOps 来管理 Jenkins X 本身。它是 &lt;code&gt;—ng&lt;/code&gt; ，为下一代 Jenkins X 而来。在我们今年晚些时候发布 Jenkins X 2.x 时，我们会将此功能标记设为默认选项。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;—ng&lt;/code&gt; 标记是这些标记的一个别名：&lt;code&gt;—gitops —vault —no-tiller —tekton&lt;/code&gt; 。所以它还附带了对 &lt;a href=&#34;https://jenkins-x.io/about/concepts/jenkins-x-pipelines/&#34;&gt;Jenkins X 流水线&lt;/a&gt; - 基于 Tekton 的新式云原生流水线引擎的支持。&lt;/p&gt;
&lt;p&gt;如果你仍然想要使用Jenkins服务器作为 Jenkins X 中自动化 CI/CD 流水线的执行引擎，那么你可以使用 &lt;code&gt;—gitops —vault&lt;/code&gt; 代替。仍要注意是的即使使用了 &lt;code&gt;—ng&lt;/code&gt; 以及使用了由 Tekton 驱动的 &lt;a href=&#34;https://jenkins-x.io/about/concepts/jenkins-x-pipelines/&#34;&gt;Jenkins X 流水线&lt;/a&gt;,你仍然需要创建你自己的&lt;a href=&#34;https://jenkins-x.io/docs/resources/guides/managing-jx/common-tasks/custom-jenkins/&#34;&gt;自定义 Jenkins 服务器&lt;/a&gt;来运行传统的 Jenkins 任务和流水线。&lt;/p&gt;
&lt;p&gt;一旦你使用 GitOps 安装了 Jenkins X 来管理开发环境，那么表明安装了 Jenkins X 和它的附加应用程序，你将为 Dev，Staging，Production 环境获得一个额外的 git 仓库。它也意味着如果你用一个更新命令如 &lt;a href=&#34;https://jenkins-x.io/commands/deprecation/&#34;&gt;jx upgrade platform&lt;/a&gt; 或通过 &lt;a href=&#34;http://localhost:1313/commands/jx_add_app/&#34;&gt;jx add app&lt;/a&gt; 添加、更新、删除应用，那么那些命令将在开发环境的 git 存储库生成 Pull Request ，就像当你发布新版本的微服务时， promotion 是如何工作的。&lt;/p&gt;
&lt;h2 id=&#34;如果出现问题&#34;&gt;如果出现问题&lt;/h2&gt;
&lt;p&gt;一般来说，当使用 Tekton 时，Jenkins X 可以很容易地自我升级。但是，如果升级让 Jenkins X 无法实施 CI/CD ，那么使用 GitOps 回退更改将不起作用；）&lt;/p&gt;
&lt;p&gt;如果你在升级 Jenkins X 过程中遇到任何问题，这里有一种手动方法可以应用开发环境的 git 存储库的内容：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;git clone $MY_DEV_GIT_CLONE_URL jenkins-x-dev-env
cd jenkins-x-dev-env/env
jx step env apply
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
      </description>
    </item>
    
  </channel>
</rss>
